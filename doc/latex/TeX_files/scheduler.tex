\chapter{Irrigation Scheduler Class}

The Scheduler class is responsible for activating the irrigation system at the 
time specified by the user.  The user enters the start and stop timing using 
the web browser controller.  The watering times are equally split between the 
two zones.

The timing function might seem simple.  However, it proved challenging to 
implement with simple code.

Two excellent Node packages were used:

\url{https://www.npmjs.com/package/node-cron}

and

\url{https://www.npmjs.com/package/moment}

The Node-cron package manager implements a functionality similar to a ``cron 
job'' in a POSIX operating system.  The function provided is a time-delayed 
task set by the user.  In this project, four jobs are required, and thus four 
node-cron tasks are created by a method of the Scheduler class.

The Moment package provides a robust data and time module which is more 
flexible than the native Javascript Date object.  The module's mode of 
operation is a little unusual, however, the documentation is excellent and the 
user should have no problem using the extensive feature set.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.6\textwidth]{photos/scheduler.png}
	\centering\bfseries
	\caption{The Web Browser Irrigation Scheduler}
\end{figure}

